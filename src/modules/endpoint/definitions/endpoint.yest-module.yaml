configs:
  moduleName: Module
  connectionName: yest-stats
components:
  schemas:
    Endpoint:
      type: object
      required:
        - path
        - httpMethod
        - projectId
        - errorCount
        - successCount
        - avgRequestPayloadSize
        - avgResponsePayloadSize
        - avgResponseTime
        - requestCount
        - responseCount
      properties:
        path:
          x-index: true
          type: string
        httpMethod:
          x-index: true
          $ref: "#/components/schemas/HttpMethod"
        projectId:
          x-index: true
          $ref: "../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/ObjectID"
        errorCount:
          default: 0
          type: number
        successCount:
          default: 0
          type: number
        avgRequestPayloadSize:
          default: 0
          type: number
        avgResponsePayloadSize:
          default: 0
          type: number
        avgResponseTime:
          default: 0
          type: number
        requestCount:
          default: 0
          type: number
        responseCount:
          default: 0
          type: number
        project:
          x-localField: projectId
          $ref: "../../project/definitions/project.schemas.yaml#/components/schemas/Project"

    HttpMethod:
      type: string
      enum:
        - Get
        - Post
        - Put
        - Patch
        - Delete

