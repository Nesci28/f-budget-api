components:
  requestBodies:
    ResponseCreateRequestBody:
      description: Body needed to create a Response
      required: true
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ResponseCreate"
    ResponseSearchRequestBody:
      description: Body needed to search Responses
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ResponseSearchRequestBody"
    ResponsePatchRequestBody:
      description: Body needed to modify a Response
      required: true
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ResponsePatch"
    ResponseUpdateRequestBody:
      description: Body needed to update a Response
      required: true
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ResponseUpdate"
    ResponsePopulateRequestBody:
      description: Body needed populate fields in Response
      required: true
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ResponsePopulateRequestBody"
  schemas:
    ResponseCreate:
      type: object
      required:
        - requestId
        - projectId
        - payload
        - payloadSize
        - time
        - status
      properties:
        requestId:
          $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/ObjectID
        projectId:
          $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/ObjectID
        payload:
          type: string
        payloadSize:
          type: number
        time:
          type: number
        status:
          $ref: ./response.schemas.yaml#/components/schemas/ResponseStatus
        uuid:
          type: string
        error:
          type: string
    ResponsePatch:
      x-min-properties: 1
      type: object
      properties:
        requestId:
          $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/ObjectID
        projectId:
          $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/ObjectID
        payload:
          type: string
        payloadSize:
          type: number
        time:
          type: number
        status:
          $ref: ./response.schemas.yaml#/components/schemas/ResponseStatus
        uuid:
          type: string
        error:
          type: string
    ResponseSearchRequestBody:
      $ref: "#/components/schemas/ResponseSearch"
    ResponseUpdate:
      type: object
      required:
        - requestId
        - projectId
        - payload
        - payloadSize
        - time
        - status
      properties:
        requestId:
          $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/ObjectID
        projectId:
          $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/ObjectID
        payload:
          type: string
        payloadSize:
          type: number
        time:
          type: number
        status:
          $ref: ./response.schemas.yaml#/components/schemas/ResponseStatus
        uuid:
          type: string
        error:
          type: string
    ResponseSearch:
      allOf:
        - $ref: "#/components/schemas/ResponsePaginationQuery"
        - $ref: "#/components/schemas/ResponseConditionQuery"
        - $ref: "#/components/schemas/ResponsePopulateRequestBody"
    ResponseConditionFields:
      type: object
      x-min-properties: 1
      properties:
        id:
          $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/SearchStringCondition
        updatedAt:
          $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/SearchDateCondition
        createdAt:
          $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/SearchDateCondition
        archived:
          $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/SearchBooleanCondition
        status:
          $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/SearchStringCondition
    ResponseConditionQuery:
      type: object
      x-min-required:
        - and
        - or
      properties:
        and:
          type: array
          x-min-length: 1
          items:
            $ref: "#/components/schemas/ResponseConditionFields"
        or:
          type: array
          x-min-length: 1
          items:
            $ref: "#/components/schemas/ResponseConditionFields"
    ResponsePaginationQuery:
      type: object
      properties:
        pagination:
          $ref: "#/components/schemas/ResponsePagination"
    ResponsePagination:
      allOf:
        - $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/Pagination
        - type: object
          properties:
            sort:
              $ref: "#/components/schemas/ResponseSort"
    ResponseSort:
      type: object
      properties:
        id:
          $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/Sorting
        updatedAt:
          $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/Sorting
        createdAt:
          $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/Sorting
        archived:
          $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/Sorting
        status:
          $ref: ../../../../node_modules/@yest/contract/resources.yaml#/components/schemas/Sorting
    ResponsePopulateRequestBody:
      type: object
      properties:
        populate:
          $ref: "#/components/schemas/ResponsePopulateFields"
    ResponsePopulateFields:
      type: array
      items:
        $ref: "#/components/schemas/ResponsePopulateField"
    ResponsePopulateField:
      type: object
      required:
        - label
      properties:
        label:
          $ref: "#/components/schemas/ResponsePopulateEnum"
        match:
          type: object
    ResponsePopulateEnum:
      type: string
      enum:
        - request
        - project
